(this.webpackJsonpexercise_2=this.webpackJsonpexercise_2||[]).push([[0],{249:function(e,a,t){e.exports=t(416)},416:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(53),i=t.n(s),r=t(25),o=t(63),d=t(64),u=t(107),c=t(69),m=t(68),g=t(80),k=t(18),h=(t(117),t(431)),p=t(433),E=t(429),b=t(114),f=t(437),S=t(427),_=t(426),v=t(55),C=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).openModal=function(e){return n.setState({modalTambahGudang:!0})},n.tutupModal=function(e){return n.setState({fields:{},errors:{},modalTambahGudang:!1})},n.handleValidation=function(){var e=n.state.fields,a={},t=!0;return e.id_gudang?n.props.data.map((function(n){n.id_gudang===e.id_gudang&&(t=!1,a.id_gudang="Nomor gudang sudah ada")})):(t=!1,a.id_gudang="Tidak Boleh Kosong"),e.kapasitas_maks?parseInt(e.kapasitas_maks)<1&&(t=!1,a.kapasitas_maks="Kapasitas tidak boleh kurang dari 1"):(t=!1,a.kapasitas_maks="Tidak Boleh Kosong"),n.setState({errors:a}),t},n.gudangSubmit=function(){if(n.handleValidation()){var e={id_gudang:n.state.fields.id_gudang,kapasitas_maks:n.state.fields.kapasitas_maks,terisi:n.state.fields.kapasitas_maks,tersisa:n.state.fields.kapasitas_maks,isi_gudang:[]};n.setState({fields:{},errors:{},modalTambahGudang:!1}),n.props.addGudang(e)}},n.state={modalTambahGudang:!1,fields:{},errors:{},activePage:1},n}return Object(d.a)(t,[{key:"handleChange",value:function(e,a){var t=this.state.fields,n=this.state.errors;t[e]=a.target.value,n[e]=void 0,this.setState({fields:t,errors:n})}},{key:"render",value:function(){var e=this,a=this.props.data,t=this.state,n=t.modalTambahGudang,s=t.fields,i=t.errors,r=t.activePage;return l.a.createElement(h.a,{fluid:!0},l.a.createElement(h.a.Content,null,l.a.createElement(h.a.Header,{textAlign:"center"},"Warehouse")),l.a.createElement(h.a.Content,null,l.a.createElement(p.a,{basic:!0,color:"teal",onClick:this.openModal},"Tambah Gudang"),l.a.createElement(E.a,{celled:!0},l.a.createElement(E.a.Header,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.HeaderCell,{width:"2"},"Gudang"),l.a.createElement(E.a.HeaderCell,{width:"1"},"Kapasitas Maksimal"),l.a.createElement(E.a.HeaderCell,{width:"1"},"Terisi"),l.a.createElement(E.a.HeaderCell,{width:"1"},"Tersisa"))),l.a.createElement(E.a.Body,null,a.slice(5*(r-1),5*(r-1)+5).map((function(e,a){return l.a.createElement(E.a.Row,{key:a},l.a.createElement(E.a.Cell,null,l.a.createElement(b.a,{ribbon:!0},e.id_gudang)),l.a.createElement(E.a.Cell,null,e.kapasitas_maks),l.a.createElement(E.a.Cell,null,e.terisi),l.a.createElement(E.a.Cell,null,e.tersisa))}))),l.a.createElement(E.a.Footer,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.HeaderCell,{colSpan:"4"},l.a.createElement(f.a,{floated:"right",boundaryRange:0,defaultActivePage:1,ellipsisItem:null,firstItem:null,lastItem:null,siblingRange:1,totalPages:a.length/5,onPageChange:function(a,t){var n=t.activePage;e.setState({activePage:n})}})))))),l.a.createElement(S.a,{open:n,closeOnEscape:!0,closeOnDimmerClick:!1,size:"tiny"},l.a.createElement(S.a.Header,null,"Tambah Gudang"),l.a.createElement(S.a.Content,null,l.a.createElement(S.a.Description,null,l.a.createElement(_.a,null,l.a.createElement(_.a.Field,null,l.a.createElement(_.a.Input,{label:"Nomor Gudang",placeholder:"Nomor Gudang",onChange:this.handleChange.bind(this,"id_gudang"),error:void 0!==i.id_gudang&&{content:i.id_gudang},value:s.id_gudang})),l.a.createElement(_.a.Field,null,l.a.createElement(_.a.Input,{label:"Kapasitas Maksimal",min:"1",type:"number",placeholder:"Kapasitas Gudang",onChange:this.handleChange.bind(this,"kapasitas_maks"),error:void 0!==i.kapasitas_maks&&{content:i.kapasitas_maks},value:s.kapasitas_maks}))))),l.a.createElement(S.a.Actions,null,l.a.createElement(p.a,{color:"red",onClick:this.tutupModal},l.a.createElement(v.a,{name:"remove"})," Batal"),l.a.createElement(p.a,{color:"green",onClick:this.gudangSubmit},l.a.createElement(v.a,{name:"checkmark"})," Tambah"))))}}]),t}(n.Component),K=t(56),I=t(430),O=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).toggleModal=function(e){return n.setState({modalRincian:!n.state.modalRincian})},n.toggleModalTambahSKU=function(e){return n.setState({modalTambahSKU:!n.state.modalTambahSKU,fields:{id_gudang:n.gudangOptions[0].value,sku:"",stok:""},errors:{}})},n.toggleModalAmbilSKU=function(e){return n.setState({modalAmbilSKU:!n.state.modalAmbilSKU,fields:{id_gudang:n.gudangOptions[0].value,sku:n.skuOptions[0].value,stok:""},errors:{}})},n.handleValidationSKU=function(){var e=n.state.fields,a={},t=!0;if(e.sku||(t=!1,a.sku="Tidak Boleh Kosong"),e.stok){var l=n.props.data.findIndex((function(a){return a.id_gudang===e.id_gudang}));parseInt(e.stok)<1?(t=!1,a.stok="Stok 1"):parseInt(e.stok)>n.props.data[l].tersisa&&(t=!1,a.stok="Kapasitas tersisa gudang "+n.props.data[l].tersisa.toString()+", silahkan memilih gudang lainnya atau mengurangi stok")}else t=!1,a.stok="Tidak Boleh Kosong";return n.setState({errors:a}),t},n.handleValidationAmbilSKU=function(){var e=n.state.fields,a={},t=!0;if(e.stok){var l=n.data().findIndex((function(a){return a.sku===e.sku})),s=n.data()[l].list_gudang.findIndex((function(a){return a.id_gudang===e.id_gudang}));parseInt(e.stok)<1?(t=!1,a.stok="Stok 1"):s<0?(t=!1,a.id_gudang="Gudang yang anda pilih tidak memiliki stok "+e.sku+", silahkan pilih gudang lainnya"):parseInt(e.stok)>n.data()[l].list_gudang[s].stok&&(t=!1,a.stok="Stok "+e.sku+" pada gudang "+e.id_gudang+" hanya "+n.data()[l].list_gudang[s].stok.toString()+", silahkan memilih gudang lainnya atau mengurangi stok")}else t=!1,a.stok="Tidak Boleh Kosong";return n.setState({errors:a}),t},n.SKUTambahSubmit=function(){if(n.handleValidationSKU()){var e={id_gudang:n.state.fields.id_gudang,stok:n.state.fields.stok,sku:n.state.fields.sku};n.setState({fields:{},errors:{},modalTambahSKU:!1}),n.props.addStok(e)}},n.SKUAmbilSubmit=function(){if(n.handleValidationAmbilSKU()){var e={id_gudang:n.state.fields.id_gudang,stok:n.state.fields.stok,sku:n.state.fields.sku};n.setState({fields:{},errors:{},modalAmbilSKU:!1}),n.props.ambilStok(e)}},n.data=function(){var e=[],a=[];return n.props.data.map((function(t){t.isi_gudang.map((function(n){if(a.includes(n.sku)){var l=e.findIndex((function(e){return e.sku===n.sku})),s=Object(r.a)(e);s[l]=Object(K.a)(Object(K.a)({},s[l]),{},{stok:s[l].stok+n.stok}),s[l]=Object(K.a)(Object(K.a)({},s[l]),{},{list_gudang:[].concat(Object(r.a)(s[l].list_gudang),[{id_gudang:t.id_gudang,stok:n.stok}])}),e=Object(r.a)(s)}else e.push(Object(K.a)(Object(K.a)({},n),{},{list_gudang:[{id_gudang:t.id_gudang,stok:n.stok}]})),a.push(n.sku)}))})),e},n.gudangOptions=n.props.data.map((function(e){return{key:e.id_gudang,text:e.id_gudang,value:e.id_gudang}})),n.skuOptions=n.data().map((function(e){return{key:e.sku,text:e.sku,value:e.sku}})),n.state={activeIndex:0,modalRincian:!1,modalTambahSKU:!1,modalAmbilSKU:!1,fields:{},errors:{},activePage:1,sku:{sku:"0",listGudang:[]}},n}return Object(d.a)(t,[{key:"handleChange",value:function(e,a){var t=this.state.fields,n=this.state.errors;t[e]=a.target.value,n[e]=void 0,this.setState({fields:t,errors:n})}},{key:"render",value:function(){var e=this,a=this.state,t=a.sku,n=a.modalRincian,s=a.errors,i=a.fields,o=a.modalTambahSKU,d=a.modalAmbilSKU,u=a.activePage;return l.a.createElement(h.a,{fluid:!0},l.a.createElement(h.a.Content,null,l.a.createElement(h.a.Header,{textAlign:"center"},"Stok SKU")),l.a.createElement(h.a.Content,null,l.a.createElement(p.a,{basic:!0,color:"teal",onClick:this.toggleModalTambahSKU},"Tambah Stok SKU"),l.a.createElement(p.a,{basic:!0,color:"red",onClick:this.toggleModalAmbilSKU},"Ambil Stok SKU"),l.a.createElement(E.a,{celled:!0},l.a.createElement(E.a.Header,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.HeaderCell,{width:"3"},"SKU"),l.a.createElement(E.a.HeaderCell,{width:"1"},"Stok"),l.a.createElement(E.a.HeaderCell,{width:"1"},"Aksi"))),l.a.createElement(E.a.Body,null,this.data().slice(5*(u-1),5*(u-1)+5).map((function(a,t){return l.a.createElement(E.a.Row,{key:t},l.a.createElement(E.a.Cell,null,l.a.createElement(b.a,{ribbon:!0},a.sku)),l.a.createElement(E.a.Cell,null,a.stok),l.a.createElement(E.a.Cell,null,l.a.createElement(p.a,{basic:!0,color:"green",onClick:function(){e.toggleModal(),e.setState({sku:{sku:a.sku,listGudang:Object(r.a)(a.list_gudang)}})}},"Rincian")))}))),l.a.createElement(E.a.Footer,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.HeaderCell,{colSpan:"3"},l.a.createElement(f.a,{floated:"right",boundaryRange:0,defaultActivePage:1,ellipsisItem:null,firstItem:null,lastItem:null,siblingRange:1,totalPages:this.data().length/5,onPageChange:function(a,t){var n=t.activePage;e.setState({activePage:n})}})))))),l.a.createElement(S.a,{size:"tiny",open:n},l.a.createElement(S.a.Header,null,"Rincian ",t.sku),l.a.createElement(S.a.Content,null,l.a.createElement(S.a.Description,null,l.a.createElement(E.a,{celled:!0},l.a.createElement(E.a.Header,null,l.a.createElement(E.a.Row,null,l.a.createElement(E.a.HeaderCell,{width:"1"},"Gudang"),l.a.createElement(E.a.HeaderCell,{width:"1"},"Stok"))),l.a.createElement(E.a.Body,null,t.listGudang.map((function(e,a){return l.a.createElement(E.a.Row,{key:a},l.a.createElement(E.a.Cell,null,e.id_gudang),l.a.createElement(E.a.Cell,null,e.stok))})))))),l.a.createElement(S.a.Actions,null,l.a.createElement(p.a,{color:"red",onClick:this.toggleModal},l.a.createElement(v.a,{name:"remove"})," Tutup"))),l.a.createElement(S.a,{open:o,size:"tiny"},l.a.createElement(S.a.Header,null,"Tambah Stok SKU"),l.a.createElement(S.a.Content,null,l.a.createElement(S.a.Description,null,l.a.createElement(_.a,null,l.a.createElement(_.a.Field,null,l.a.createElement(_.a.Input,{label:"SKU",placeholder:"SKU",onChange:this.handleChange.bind(this,"sku"),error:void 0!==s.sku&&{content:s.sku},value:i.sku})),l.a.createElement(_.a.Field,null,l.a.createElement(_.a.Input,{label:"Stok",min:"1",type:"number",placeholder:"Stok",onChange:this.handleChange.bind(this,"stok"),error:void 0!==s.stok&&{content:s.stok},value:i.stok})),l.a.createElement(_.a.Field,null,l.a.createElement("label",null,"Nomor Gudang"),l.a.createElement(I.a,{placeholder:"Nomor Gudang",error:void 0!==s.id_gudang,search:!0,selection:!0,options:this.gudangOptions,defaultValue:this.gudangOptions[0].value,onChange:function(a,t){var n=t.value,l=e.state.fields,s=e.state.errors;l.id_gudang=n,s.id_gudang=void 0,e.setState({fields:l,errors:s})}}),void 0!==s.id_gudang?l.a.createElement(b.a,{basic:!0,color:"red",pointing:!0},s.id_gudang):l.a.createElement(l.a.Fragment,null))))),l.a.createElement(S.a.Actions,null,l.a.createElement(p.a,{color:"red",onClick:this.toggleModalTambahSKU},l.a.createElement(v.a,{name:"remove"})," Batal"),l.a.createElement(p.a,{color:"green",onClick:this.SKUTambahSubmit},l.a.createElement(v.a,{name:"checkmark"})," Tambah"))),l.a.createElement(S.a,{open:d,size:"tiny"},l.a.createElement(S.a.Header,null,"Ambil Stok SKU"),l.a.createElement(S.a.Content,null,l.a.createElement(S.a.Description,null,l.a.createElement(_.a,null,l.a.createElement(_.a.Field,null,l.a.createElement("label",null,"SKU"),l.a.createElement(I.a,{placeholder:"SKU",error:void 0!==s.sku,search:!0,selection:!0,options:this.skuOptions,defaultValue:this.skuOptions[0].value,onChange:function(a,t){var n=t.value,l=e.state.fields,s=e.state.errors;l.sku=n,s.sku=void 0,e.setState({fields:l,errors:s})}}),void 0!==s.sku?l.a.createElement(b.a,{basic:!0,color:"red",pointing:!0},s.sku):l.a.createElement(l.a.Fragment,null)),l.a.createElement(_.a.Field,null,l.a.createElement(_.a.Input,{label:"Stok",min:"1",type:"number",placeholder:"Stok",onChange:this.handleChange.bind(this,"stok"),error:void 0!==s.stok&&{content:s.stok},value:i.stok})),l.a.createElement(_.a.Field,null,l.a.createElement("label",null,"Nomor Gudang"),l.a.createElement(I.a,{placeholder:"Nomor Gudang",error:void 0!==s.id_gudang,search:!0,selection:!0,options:this.gudangOptions,defaultValue:this.gudangOptions[0].value,onChange:function(a,t){var n=t.value,l=e.state.fields,s=e.state.errors;l.id_gudang=n,s.id_gudang=void 0,e.setState({fields:l,errors:s})}}),void 0!==s.id_gudang?l.a.createElement(b.a,{basic:!0,color:"red",pointing:!0},s.id_gudang):l.a.createElement(l.a.Fragment,null))))),l.a.createElement(S.a.Actions,null,l.a.createElement(p.a,{color:"red",onClick:this.toggleModalAmbilSKU},l.a.createElement(v.a,{name:"remove"})," Batal"),l.a.createElement(p.a,{color:"green",onClick:this.SKUAmbilSubmit},l.a.createElement(v.a,{name:"checkmark"})," Ambil"))))}}]),t}(n.Component),U=JSON.parse(localStorage.getItem("data_warehouse"))||[{id_gudang:"001",kapasitas_maks:500,terisi:200,tersisa:300,isi_gudang:[{sku:"SKU001",stok:100},{sku:"SKU002",stok:100}]},{id_gudang:"002",kapasitas_maks:500,terisi:100,tersisa:400,isi_gudang:[{sku:"SKU001",stok:30},{sku:"SKU003",stok:70}]},{id_gudang:"003",kapasitas_maks:500,terisi:100,tersisa:400,isi_gudang:[{sku:"SKU001",stok:30},{sku:"SKU003",stok:70}]},{id_gudang:"004",kapasitas_maks:500,terisi:100,tersisa:400,isi_gudang:[{sku:"SKU001",stok:30},{sku:"SKU003",stok:70}]},{id_gudang:"005",kapasitas_maks:500,terisi:100,tersisa:400,isi_gudang:[{sku:"SKU001",stok:30},{sku:"SKU003",stok:70}]},{id_gudang:"006",kapasitas_maks:500,terisi:100,tersisa:400,isi_gudang:[{sku:"SKU001",stok:30},{sku:"SKU003",stok:70}]},{id_gudang:"007",kapasitas_maks:500,terisi:100,tersisa:400,isi_gudang:[{sku:"SKU001",stok:30},{sku:"SKU003",stok:70}]}],w=t(425),j=t(434),y=t(435),T=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleItemClick=function(e,a){var t=a.name;return n.setState({activeItem:t})},n.addGudang=function(e){n.saveLocal([].concat(Object(r.a)(n.state.data),[e])),n.setState({data:[].concat(Object(r.a)(n.state.data),[e])})},n.addStok=function(e){var a=n.state.data.findIndex((function(a){return a.id_gudang===e.id_gudang})),t=n.state.data[a].isi_gudang.findIndex((function(a){return a.sku===e.sku})),l=Object(r.a)(n.state.data);t<0?l[a].isi_gudang=[].concat(Object(r.a)(l[a].isi_gudang),[{sku:e.sku,stok:parseInt(e.stok)}]):l[a].isi_gudang[t].stok+=parseInt(e.stok),l[a].terisi+=parseInt(e.stok),l[a].tersisa-=parseInt(e.stok),n.saveLocal(Object(r.a)(l)),n.setState({data:Object(r.a)(l)})},n.ambilStok=function(e){var a=n.state.data.findIndex((function(a){return a.id_gudang===e.id_gudang})),t=n.state.data[a].isi_gudang.findIndex((function(a){return a.sku===e.sku})),l=Object(r.a)(n.state.data);l[a].isi_gudang[t].stok===parseInt(e.stok)?l[a].isi_gudang.splice(t,1):l[a].isi_gudang[t].stok-=parseInt(e.stok),l[a].terisi-=parseInt(e.stok),l[a].tersisa+=parseInt(e.stok),n.saveLocal(Object(r.a)(l)),n.setState({data:Object(r.a)(l)})},n.state={activeItem:"/"===window.location.pathname?"home":window.location.pathname.slice(1),data:Object.assign(U)},n.handleItemClick=n.handleItemClick.bind(Object(u.a)(n)),n}return Object(d.a)(t,[{key:"saveLocal",value:function(e){localStorage.setItem("data_warehouse",JSON.stringify(e))}},{key:"render",value:function(){var e=this.state,a=e.activeItem,t=e.data;return l.a.createElement(g.a,null,l.a.createElement(w.a,null,l.a.createElement(j.a,{pointing:!0,secondary:!0},l.a.createElement(j.a.Item,{name:"home",active:"home"===a,onClick:this.handleItemClick,as:g.b,to:"/"}),l.a.createElement(j.a.Item,{name:"warehouse",active:"warehouse"===a,onClick:this.handleItemClick,as:g.b,to:"/warehouse"}),l.a.createElement(j.a.Item,{name:"sku",active:"sku"===a,onClick:this.handleItemClick,as:g.b,to:"/sku"})),l.a.createElement(y.a,{as:"h1",icon:!0,textAlign:"center"},"Simple Warehouse Management"),l.a.createElement(k.c,null,l.a.createElement(k.a,{path:"/warehouse"},l.a.createElement(C,{data:t,addGudang:this.addGudang})),l.a.createElement(k.a,{path:"/sku"},l.a.createElement(O,{data:t,addStok:this.addStok,ambilStok:this.ambilStok})),l.a.createElement(k.a,{path:"/"},l.a.createElement(y.a,{as:"h3",textAlign:"center"},"Dibuat oleh Romadlon Rahmatulloh")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[249,1,2]]]);
//# sourceMappingURL=main.1652e4ee.chunk.js.map